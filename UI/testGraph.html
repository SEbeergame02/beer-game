<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
    crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=ZCOOL+KuaiLe" rel="stylesheet">
  <title>Statistics</title>

<style>
  path {  stroke: #fff; }
  path:hover {  opacity:0.9; }
  rect:hover {  fill:blue; }
  .axis {  font: 10px sans-serif; }
  .legend tr{    border-bottom:1px solid grey; }
  .legend tr:first-child{    border-top:1px solid grey; }

  .axis path,
  .axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
  }

  .x.axis path {  display: none; }
  .legend{
    margin-bottom:76px;
    display:inline-block;
    border-collapse: collapse;
    border-spacing: 0px;
  }
  .legend td{
    padding:4px 5px;
    vertical-align:bottom;
  }
  .legendFreq, .legendPerc{
    align:right;
    width:50px;
  }
</style>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="Home.html">BeerGame</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">

      </ul>
      <ul class="nav navbar-nav navbar-right">
          <a href="/profile"><img src="<%=img%>" />PHOTO</a>&nbsp;
        <a class="nav-link" href="/profile">
          <%=name%></a>
        <a class="nav-link" href="/login" data-toggle="modal" data-target="#exampleModal">Logout <span class="sr-only">(current)</span></a>
      </ul>
    </div>
  </nav>
  <div class="row my-4">
    <div id="dashboard" class="col-12">
    </div>
  </div>
  <!-- 玩家模板 -->
  <div class="row px-4 py-3">
    <div class="col-6">
      <div class="card text-white bg-primary mb-3">
        <div class="card-header">玩家一</div>
        <div class="card-body">
          <h5 class="card-title">個人數據</h5>
          <div class="col-12 p-2 rounded" style="background: white;">
            <!-- 數據標題 可重複使用 -->
            <h5 class="text-black-50">進貨比例</h5>
            <!-- 進度條 利用 width 及 aria-valuenow 標示比例 -->
            <div class="progress">
              <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
        </div>
        <div class="card-footer text-right">
          <!-- 資料更新時間 -->
          <small class="text-white font-weight-bold">Last updated 3 mins ago</small>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="card text-white bg-success mb-3">
        <div class="card-header">玩家二</div>
        <div class="card-body">
          <h5 class="card-title">個人數據</h5>
          <div class="col-12 p-2 rounded" style="background: white;">
            <h5 class="text-black-50">進貨比例</h5>
            <div class="progress">
              <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
        </div>
        <div class="card-footer text-right">
          <small class="text-white font-weight-bold">Last updated 3 mins ago</small>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="card text-white bg-danger mb-3">
        <div class="card-header">玩家三</div>
        <div class="card-body">
          <h5 class="card-title">個人數據</h5>
          <div class="col-12 p-2 rounded" style="background: white;">
            <h5 class="text-black-50">進貨比例</h5>
            <div class="progress">
              <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
        </div>
        <div class="card-footer text-right">
          <small class="text-white font-weight-bold">Last updated 3 mins ago</small>
        </div>
      </div>
    </div>
    <div class="col-6">
      <div class="card text-white bg-warning mb-3">
        <div class="card-header">玩家四</div>
        <div class="card-body">
          <h5 class="card-title">個人數據</h5>
          <div class="col-12 p-2 rounded" style="background: white;">
            <h5 class="text-black-50">進貨比例</h5>
            <div class="progress">
              <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
        </div>
        <div class="card-footer text-right">
          <small class="text-white font-weight-bold">Last updated 3 mins ago</small>
        </div>
      </div>
    </div>
  </div>

  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script>
    // D3.js 套件部分有稍微修改讓它看起來有點 RWD
    function dashboard(id, fData){
        var barColor = 'steelblue';
        var w = window,
            d = document,
            e = d.documentElement,
            g = d.getElementsByTagName('body')[0],
            x = w.innerWidth || e.clientWidth || g.clientWidth,
            y = w.innerHeight|| e.clientHeight|| g.clientHeight;
        var svgSize = 0.6 * x;
        var svgPadding = 0.15 * y;

        function segColor(c){ return {低點:"#807dba", 高點:"#e08214",平均:"#41ab5d"}[c]; }

        // compute total for each state.
        fData.forEach(function(d){d.total=d.freq.低點+d.freq.高點+d.freq.平均;});

        // function to handle histogram.
        function histoGram(fD){
            var hG={},    hGDim = {t: 60, r: svgPadding, b: 30, l: svgPadding};
            hGDim.w = svgSize - hGDim.l - hGDim.r,
            hGDim.h = 300 - hGDim.t - hGDim.b;
  </script>
</body>